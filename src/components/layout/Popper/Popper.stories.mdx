import { useState } from "react";
import { Meta, Story, Preview, Props, Source } from "@storybook/addon-docs/blocks";
import { action } from "@storybook/addon-actions";
import * as stories from "layout/Popper/Popper.stories.js";
import { Padding, CenterDecorator, Container, DisplayGrid } from "helpers/Display";
import Popper from "layout/Popper";
import Card from "elements/Card";
import Button, { ButtonGroup } from "atoms/Button";
import Grid from "layout/Grid";

<Meta title="Utilities|Popper" component={Popper} />

# Popper

#### Popcorn is yummy :)

<Preview withToolbar>
  <Story name="Standard" decorators={[Container, Padding, DisplayGrid]}>
    {() => {
        const [visible, setVisible] = useState(true);
        return (
          <Popper
            id="popper-standard"
            anchor={(
              <Button
                label="Pop"
                isSolid
                onClick={() => { setVisible((show) => { return !show; })}}
              />
            )}
            visible={visible}
            onClose={() => { setVisible(false); }}
          >
            <Grid>
              <Card
                title="Corn"
                description="Live the California dream at this modern paradise right on the beach in Malibu."
              />
            </Grid>
        </Popper>
        );
      }}
  </Story>
</Preview>

## Props

<Props of={Popper} />

## Examples

### Positions

<Preview>
  <Story name="Position" decorators={[CenterDecorator, Container, Padding]}>
    <Grid columns="4">
      <Popper
        id="popper-position-bottomRight"
        anchor={(
          <Button
            label="Bottom Right"
            isSolid
          />
        )}
        visible
        position="bottomRight"
      >
        <Grid>
          <Card
            title="Corn"
            description="Live the California dream at this modern paradise right on the beach in Malibu."
          />
        </Grid>
      </Popper>
      <Popper
        id="popper-position-topRight"
        anchor={(
          <Button
            label="Top Right"
            isSolid
          />
        )}
        visible
        position="topRight"
     >
        <Grid>
          <Card
            title="Corn"
            description="Live the California dream at this modern paradise right on the beach in Malibu."
          />
        </Grid>
      </Popper>
      <Popper
        id="popper-position-bottomLeft"
        anchor={(
          <Button
            label="Bottom Left"
            isSolid
          />
        )}
        visible
        position="bottomLeft"
      >
        <Grid>
          <Card
            title="Corn"
            description="Live the California dream at this modern paradise right on the beach in Malibu."
          />
        </Grid>
      </Popper>
      <Popper
        id="popper-position-topLeft"
        anchor={(
          <Button
            label="Top Left"
            isSolid
          />
        )}
        visible
        position="topLeft"
      >
       <Grid>
          <Card
            title="Corn"
            description="Live the California dream at this modern paradise right on the beach in Malibu."
          />
        </Grid>
      </Popper>
    </Grid>
  </Story>
</Preview>

### Portal

<Preview>
  <Story name="Portal" decorators={[Padding, DisplayGrid]}>
    {() => {
        const [visible, setVisible] = useState(false);
        return (
          <Popper
            id="popper-portal"
            anchor={(
              <Button
                label="Portal Popper"
                onClick={() => { setVisible((show) => { return !show; })}}
                isSolid
              />
            )}
            portal
            visible={visible}
            onClose={() => { setVisible(false); }}
          >
            <Grid>
              <Card
                title="Corn"
                description="Live the California dream at this modern paradise right on the beach in Malibu."
              />
            </Grid>
        </Popper>
        );
      }}
  </Story>
</Preview>

### Flex Wrapper

<Preview>
  <Story name="Flex" decorators={[CenterDecorator, Container, Padding]}>
    <ButtonGroup columns={4}>
      <Button label="Normal Button" />
      <Popper
        id="popper-position-bottomRight"
        anchor={(
          <Button
            label="Flex Popper"
            isSolid
          />
        )}
        visible
        isFlex
        position="bottomRight"
      >
        <Grid>
          <Card
            title="Corn"
            description="Live the California dream at this modern paradise right on the beach in Malibu."
          />
        </Grid>
      </Popper>
      <Popper
        id="popper-position-bottomRight"
        anchor={(
          <Button
            label="Normal Popper"
          />
        )}
        visible
        position="bottomRight"
      >
        <Grid>
          <Card
            title="Corn"
            description="Live the California dream at this modern paradise right on the beach in Malibu."
          />
        </Grid>
      </Popper>
      <Button label="Normal Button" />
    </ButtonGroup>
  </Story>
</Preview>
